@using System.Reflection
@model NBlog.Web.Application.Infrastructure.LayoutModel
<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8">

    <meta http-equiv="x-ua-compatible" content="IE=10">
    <!-- TODO [VN] check the meta tags -->
    <meta name="author" content="Viktor Nonov">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="text/javascript" src="//use.typekit.net/qeg0jod.js"></script>
    <script type="text/javascript">try { Typekit.load(); } catch (e) { }</script>

	<title>@(ViewBag.Title ?? Model.Config.Title)</title>
    <meta name="description" content="@Model.Config.MetaDescription">
    <link href="@Url.Action("Index", "Feed")" rel="alternate" type="application/rss+xml" title="@Model.Config.Title" />
	<link rel="shortcut icon" href="@Url.Content("~/Content/img/logo.png")">
<!--<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/smoothness/jquery-ui.css">
    -->
    <!--<link rel="stylesheet" href="@Url.Action("Css", "Resource", new { theme = "default" })">-->
    <link rel="stylesheet" href="@Url.Content("~/Content/css/foundation.css")"/>
    <link rel="stylesheet" href="@Url.Content("~/Content/css/normalize.css")"/>
    <link rel="stylesheet" href="@Url.Content("~/Content/css/prism.css")"/>

    <script src="@Url.Content("~/scripts/vendor/modernizr.js")"></script>
    <link rel="stylesheet" href="@Url.Content("~/Content/css/screen.css")"/>
</head>
<body>
    <header>
        <div class="row">
            <div class="small-2 large-1 small-centered columns">
                    <a href="@Url.Action("Index", "Home")">
                            <img src="@Url.Content("~/Content/img/logo.png")" alt="Viktor Nonov" id="logo"/>
                    </a>
            </div>
        </div>
        <div class="row">
            <div class="small-12 small-centered columns">
                <hr>
            </div>
        </div>
    </header>
    <section class="main-section">
        <div class="row">
            <div class="large-12 small-12 large-centered small-centered columns">
                <div>
                    <div class="crossbar text-links offset-bottom">
                        <img src="@Url.Content("~/Content/img/sunset.jpg")" alt="Luxembourg sunset by Viktor Nonov"/>
                    </div>
                    @RenderBody()
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="row">
            <div class="small-12 small-centered columns">
                <hr>
            </div>
        </div>
        <!-- TODO add those social icons
        <div class="row">
            <div class="small-7 small-centered columns" style="margin-bottom: 15px">
                <a href="#"><img src="@Url.Content("~/Content/img/github.png")" /></a>
                <a href="#"><img src="@Url.Content("~/Content/img/twitter.png")" /></a>
                <a href="#"><img src="@Url.Content("~/Content/img/instagram.png")" /></a>
                <a href="#"><img src="@Url.Content("~/Content/img/linkedin.png")" /></a>
            </div>
        </div>
        -->
        <div class="row">
            <div class="small-12 small-centered columns">
                <a href="@Url.Action("Index", "Feed")" class="left">
                        RSS
                </a>

                <a href="@Url.Action("Index", "Contact")" class="right">
                        Contact
                </a>
                <div id="topbar">
                    <div id="links" class="text-links">
                        @(Model.User.IsAuthenticated ? Html.Safe("<strong>" + Model.User.FriendlyName + "</strong> |") : Html.Blank())
                        @if (Model.User.IsAuthenticated)
                        {
                            Html.ActionLink("Sign Out", "Logout", "Authentication");
                        }
                    </div>
                    <!--
                    <div id="search">
                        <form action="@Url.Action("Index", "Search")">
                            <input type="text" class="box" name="q" />
                        </form>
                    </div>
                    -->
                </div>
           </div>
        </div>
    </footer>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script>    !window.jQuery && document.write('<script src="/resources/scripts/jquery-1.4.4.min.js"><\/script>')</script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js"></script>
    <script src="@Url.Action("JavaScript", "Resource")"></script>
    <script src="@Url.Content("~/Scripts/prism.js")"></script>

        <script>
            $(function () {
                $.datepicker.setDefaults({
                    dateFormat: 'dd M yy',
                    changeMonth: true,
                    changeYear: true,
                    constrainInput: true,
                    currentText: 'Today',
                    showAnim: 'slide',
                    showButtonPanel: true

                });
                $("#search .box").watermark("search");
                $("input:submit, input:button, a.button, button").button();
                var a = $("pre:has(code)").addClass("prettyprint");
            });
        </script>

        @RenderSection("Scripts", required: false)
        @*<script src="/resources/scripts/profiling/yahoo-profiling.min.js?v=1"></script>
            <script src="/resources/scripts/profiling/config.js?v=1"></script>*@

        @if (!string.IsNullOrWhiteSpace(Model.Config.GoogleAnalyticsId))
        {
            <script>
                (function (i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                ga('create', '@Model.Config.GoogleAnalyticsId', 'nonov.net');
                ga('send', 'pageview');

            </script>
        }
</body>
</html>

@helper TwitterLink(string twitterUsername) {
    if (!string.IsNullOrWhiteSpace(twitterUsername))
    {
         <a href="http://twitter.com/@twitterUsername" target="_blank">Twitter</a> <text>|</text> 
    }
}